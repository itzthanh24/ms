(window.webpackJsonpms=window.webpackJsonpms||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/bomb.647259d5.png"},function(e,t,a){e.exports=a(18)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(5),c=a.n(o),l=(a(12),a(13),a(2)),s=a(1),m=(a(14),function(e){var t=e.inputValues,a=e.handleInputChange,r=e.handleFormSubmit;return n.a.createElement("div",null,n.a.createElement("form",{className:"ms-form",name:"form",onSubmit:r},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"ms-form-group form-group col-md-3"},n.a.createElement("label",{className:"ms-form-label",htmlFor:"columns"},"Columns ",n.a.createElement("i",{className:"ms-label-icon label-icon material-icons"},"view_column")),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"ms-form-input form-control",type:"text",name:"columns",id:"columns",placeholder:"# of columns",value:t.columns,onChange:a}))),n.a.createElement("div",{className:"ms-form-group form-group col-md-3 offset-md-1"},n.a.createElement("label",{className:"ms-form-label",htmlFor:"rows"},"Rows ",n.a.createElement("i",{className:"ms-label-icon label-icon material-icons"},"view_stream")),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"ms-form-input form-control",type:"text",name:"rows",id:"rows",placeholder:"# of rows",value:t.rows,onChange:a}))),n.a.createElement("div",{className:"ms-form-group form-group col-md-3 offset-md-1"},n.a.createElement("label",{className:"ms-form-label",htmlFor:"bombs"},"Bombs ",n.a.createElement("i",{className:"ms-label-icon label-icon material-icons"},"adjust")),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"ms-form-input form-control",type:"text",name:"bombs",id:"bombs",placeholder:"# of bombs",value:t.bombs,onChange:a})))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{type:"submit",className:"ms-form-submit btn text-center col-md-3 offset-md-4",onClick:r},"Submit"))))}),i=function(e){var t=e.errorMsg;return n.a.createElement("div",{className:"ms-error"},n.a.createElement("p",{className:"ms-error-msg"},t))},u=a(3),f=a(6),b=a.n(f),v=function(e){var t=e.isClicked,a=e.adjBombs,r=e.cellWidth,o=e.rowIndex,c=e.colIndex,l=e.handleCellClick,s=r<=4?"0.5em":"",m=b.a,i={styles:{width:"".concat(r,"%"),fontSize:s}};return n.a.createElement("button",{className:"ms-row-button"+(t?" ".concat("clicked"):"")+(-1===a?" ".concat("bomb"):""),style:i.styles,value:"".concat(o,"-").concat(c),onClick:l},t&&-1!==a&&a>0?"".concat(a):"",t&&-1===a?n.a.createElement("img",{className:"ms-row-button-bomb",alt:"bomb",src:m}):"")},d=function(e,t,a){return[p(e,t,a),g(e,t,a),h(e,t,a),O(e,t,a),w(e,t,a),E(e,t,a),j(e,t,a),y(e,t,a)].filter((function(e){return e}))},p=function(e,t,a){return(e[t-1]||[])[a]?e[t-1][a]:0},g=function(e,t,a){return(e[t-1]||[])[a+1]?e[t-1][a+1]:0},h=function(e,t,a){return e[t][a+1]?e[t][a+1]:0},O=function(e,t,a){return(e[t+1]||[])[a+1]?e[t+1][a+1]:0},w=function(e,t,a){return(e[t+1]||[])[a]?e[t+1][a]:0},E=function(e,t,a){return(e[t+1]||[])[a-1]?e[t+1][a-1]:0},j=function(e,t,a){return e[t][a-1]?e[t][a-1]:0},y=function(e,t,a){return(e[t-1]||[])[a-1]?e[t-1][a-1]:0},N=function(e,t,a){var r=d(e,t,a),n=!0,o=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var m=l.value;-1!==m.adjBombs&&m.adjBombs++}}catch(i){o=!0,c=i}finally{try{n||null==s.return||s.return()}finally{if(o)throw c}}return e},S=function(e,t,a){for(var r=[],n=0;n<e;n++){for(var o=[],c=0;c<t;c++)o.push({isClicked:!1,adjBombs:0,row:n,col:c});r.push(o)}return r=function(e,t){for(var a=[e.length,e[0].length],r=a[0],n=a[1],o=[],c=0;c<r;c++)for(var l=0;l<n;l++)o.push({row:c,col:l});for(;t;){var s=Math.floor(Math.random()*o.length),m=o[s].col,i=o[s].row;e[i][m].adjBombs=-1,N(e,i,m),o.splice(s,1),t--}return e}(r,a)};a(15);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var k=function(e){var t=e.rows,a=e.cols,o=e.bombs,c=e.remainingSafeCells,m=e.changeRemainingSafeCells,i=e.gameOver,f=e.setGameStatus,b=Object(r.useState)((function(){return S(t,a,o)})),p=Object(s.a)(b,2),g=p[0],h=p[1],O=Object(r.useState)({row:null,col:null}),w=Object(s.a)(O,2),E=w[0],j=w[1],y=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(y.current)y.current=!1;else{var e=E.row,r=E.col,n=function(e,t,a,r){var n=!1,o="";return e[t][a].isClicked&&(-1===e[t][a].adjBombs?(n=!0,o="lose"):r||(n=!0,o="win")),{gameOver:n,result:o}}(g,e,r,c);if(n.gameOver){var o=function(e,t,a){for(var r=Object(u.a)(e),n=0;n<t;n++)for(var o=0;o<a;o++)r[n][o].isClicked=!0;return r}(g,t,a);h(o),f(n)}}}),[c]);var N=function(e){if(!i.gameOver){var t=e.target.value.split("-"),a=[parseInt(t[0]),parseInt(t[1])];k(a[0],a[1])}},k=function(e,t){if(!g[e][t].isClicked){var a=Object(u.a)(g);a[e][t].isClicked=!0,h(a),j(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},E,{row:e,col:t})),m(),P(e,t)}},P=function(e,t){if(0===g[e][t].adjBombs){var a=d(g,e,t),r=!0,n=!1,o=void 0;try{for(var c,l=a[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var s=c.value;k(s.row,s.col)}}catch(m){n=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}}},x={height:{height:"".concat(100/t,"%")}};return n.a.createElement("div",{className:"ms-board"},g.map((function(e,t){return n.a.createElement("div",{className:"ms-board-row",key:t,style:x.height},e.map((function(e,r){return n.a.createElement(v,Object.assign({key:r},e,{rowIndex:t,colIndex:r,cellWidth:100/a,handleCellClick:N}))})))})))},P=function(e){var t=e.resultMsg,a=e.gameStart,r=e.gameOver,o=e.newGame;return n.a.createElement("div",{className:"ms-result ".concat(a&&r?"show":"hide")},n.a.createElement("p",{className:"ms-result-msg"},t),n.a.createElement("div",{className:"ms-new-game"},n.a.createElement("button",{className:"btn",onClick:o},"New Game")))},x=(a(16),function(){return n.a.createElement("div",{className:"ms-rules col-md-8 offset-md-2"},n.a.createElement("h2",{className:"ms-rules-title"},"How to Play"),n.a.createElement("ul",{className:"ms-rules-list"},n.a.createElement("li",{className:"ms-rule"},"The board of cells contains a set number of bombs. "),n.a.createElement("li",{className:"ms-rule"},"You lose if: you click on a cell containing a bomb."),n.a.createElement("li",{className:"ms-rule"},"You win if: you manage to click all the cells and avoid the bombs."),n.a.createElement("li",{className:"ms-rule"},"Clicking a cell that does not contain a bomb reveals the number of adjacent cells that contain bombs. Use this information and process of elimination to click on all cells without a bomb.")))});a(17);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)({gameOver:!1,result:""}),u=Object(s.a)(c,2),f=u[0],b=u[1],v=Object(r.useState)(0),d=Object(s.a)(v,2),p=d[0],g=d[1],h=Object(r.useState)({columns:"",rows:"",bombs:""}),O=Object(s.a)(h,2),w=O[0],E=O[1],j=Object(r.useState)({isError:!1,msg:""}),y=Object(s.a)(j,2),N=y[0],S=y[1],C={inputValues:w,handleInputChange:function(e){var t=e.target,a=t.name,r=t.value;E(B({},w,Object(l.a)({},a,r)))},handleFormSubmit:function(e){e.preventDefault();var t=w.columns*w.rows,a=/^[1-9][0-9]*$/,r="";for(var n in w)a.test(w[n])||(r+="".concat(n.replace(n[0],n[0].toUpperCase())," "));if(r+=r?"should be a positive number.":"",r+=!r&&w.bombs>=t?"# of bombs cannot be equal or greater than # of cells":"")S(B({},N,{isError:!0,msg:r}));else{var c=t-w.bombs;S(B({},N,{isError:!1,msg:""})),E(B({},w,{columns:parseInt(w.columns),rows:parseInt(w.rows),bombs:parseInt(w.bombs)})),g(c),o(!0)}}},I={errorMsg:N.msg},D={rows:w.rows,cols:w.columns,bombs:w.bombs,gameOver:f,remainingSafeCells:p,changeRemainingSafeCells:function(){g((function(e){return e-1}))},setGameStatus:function(e){var t=e.gameOver,a=e.result;e.gameOver&&b(B({},t,{gameOver:t,result:a}))}},G=f.gameOver?"Game Over...You ".concat(f.result,"."):"Game in Progress...";return n.a.createElement("main",{className:"container"},n.a.createElement("div",{className:"ms-header"},n.a.createElement("h1",{className:"ms-title"},"Minesweeper")),n.a.createElement("div",{className:"container"},a?n.a.createElement(P,{resultMsg:G,newGame:function(){o(!1),b(B({},f,{gameOver:!1,result:""})),E(B({},w,{columns:"",rows:"",bombs:""}))},gameOver:f.gameOver,gameStart:a}):"",N.isError?n.a.createElement(i,I):"",a||f.gameOver?"":n.a.createElement(m,C),a?"":n.a.createElement(x,null),a?n.a.createElement(k,D):""))};var G=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[7,1,2]]]);
//# sourceMappingURL=main.49cb26c2.chunk.js.map